# `lmf,lmfa,lmchk`

We need ctrl file ctrl.foobar for inputs.


## lmfa: spherical atom calculations
Example:` 
```
lmfa si 
```
It finishes instantaneously.
```
lmfa si |grep conf
```
shows electronic configurations. It gives electron densities of spherical atoms
contained in the primitive cell specified by .
With the superposition of the densities From which, we construct initial electronic density for lmf.
In addition,`lmfa` generates  

## lmf: solving the Kohn-Sham equation

- **Usage**: `mpirun lmf TARGET [options] > llmf`

Example: 
```
mpirun -np 4 lmf si [options] > llmf
```
This is a case we have ctrl.si.

### options
* quit option at some point. `--quit=band`, `--quit=ldau`... We need to do 'grep cmdopt SRC/*/*.f90|grep quit' to know details.
* `--tdos`
total dos calculation.
* `-vfoobar=xxx` : This overide const foobar=yyy defined in ctrl, and used as {foobar} in ctrl file. This is shown in save file explained below.

We have some kinds of options for electron density plot, boltztrap and so on.
(not yet described).

### Input files
- syml.`target`
   symmetry line for band plot (usually `job_band` calls lmf internally)
- sigm.`target`
    a part of QSGW calculation
- Usually (when READP=T in ctrl), we need `atmpnu*` generated by lmfa.

### Output files
* rst.`target`
  restart file : it mainly contains electron density.

* save.`target` 
 This contains very minimum history for you to execute lmf, lmf, lmchk, and total energies for each iteration stepsof lmf.

* mix.`target`
 mixing file for electron density. When you stop iteration at the middle, you may need to delete this.

** Main Source** : [`SRC/main/lmf.f90`](https://github.com/tkotani/ecalj)

## lmchk: Check crystal symmetry.
lmchk gives useful information of space group symmetry recognized by lmf. In addition, it determines MT radius.
